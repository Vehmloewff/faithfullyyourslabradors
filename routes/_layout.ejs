<!DOCTYPE html>
<html s-morph="true">
  <head>
    <meta charset="utf-8" />

    <title s-morph="true"><%= error.title || $.title %> | Faithfully Yours Labradors</title>
    <meta name="description" content="<%= $.description %>" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, minimum-scale=1" />

    <!-- CSS -->
    <link rel="stylesheet" href="/css/bundle.css" />

    <!-- JS -->
    <script src="//unpkg.com/alpinejs" defer></script>
    <script src="//code.iconify.design/1/1.0.6/iconify.min.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script src="/script/sync-client.js"></script>

    <!-- Google fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Lora&family=Yellowtail&display=swap" rel="stylesheet"></link>

    <!-- Favicons (from https://realfavicongenerator.net) -->
    <link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png" />
    <link rel="manifest" href="/favicons/site.webmanifest" />
    <link rel="mask-icon" href="/favicons/safari-pinned-tab.svg" color="#5bbad5" />
    <link rel="shortcut icon" href="/favicons/favicon.ico" />
    <meta name="msapplication-TileColor" content="#da532c" />
    <meta name="msapplication-config" content="/favicons/browserconfig.xml" />
    <meta name="theme-color" content="#ffffff" />

    <style>
      menu.mobile {
        position: absolute;
        flex: 1;
        width: 100%;
        overflow-y: auto;
        top: 0;
        padding-top: var(--header-height);
        background: var(--light-3);
        z-index: 40;
        box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;
        opacity: 0.3;
        transform: translateY(-100%);
        transition: transform 0.4s ease-out, opacity 0.2s ease-in-out;
      }

      menu.mobile.isOpen {
        opacity: 1;
        transform: translate3d(0, 0, 0);
      }

      menu.mobile a {
        display: block;
        padding: var(--container-x-padding);
        color: var(--dark-2);
        font-size: 1.1rem;
        text-decoration: none;
      }
    </style>
  </head>

  <body x-data="{ isMobileMenuOpen: false }">
    <!-- Flash -->
    <% if (flash.success) { %>
      <div class="p-4 bg-success text-light"><%= flash.success %></div>
    <% } %>

    <!-- Header -->
    <header class="z-50 height-[--var(header-height)] pt-1 items-center gap-6">
      <a @click="isMobileMenuOpen = false" href="/" class="pr-4 -mt-4 no-underline">
        <h2 class="text-white">Faithfully Yours Labradors</h2>
      </a>

      <!-- Desktop nav -->
      <nav class="hidden md:flex flex-1 justify-end">
        {{ partial "/_/links.ejs" }}
      </nav>
      <!-- Mobile nav (hamburger) -->
      <nav class="flex md:hidden ml-auto" @click="isMobileMenuOpen = !isMobileMenuOpen">
        <div class="ml-auto -mr-4">{{ partial "/_/hamburger.ejs" }}</div>
      </nav>
    </header>

    <!-- Mobile menu -->
    <menu
      id="mobileMenu"
      class="mobile"
      x-bind:class="isMobileMenuOpen ? 'isOpen' : ''"
      @click="isMobileMenuOpen=false"
    >
      {{ partial "/_/links.ejs" }}
    </menu>

    <!-- Main Section -->
    <main id="main">
      {{ slot }}
      <footer class="flex flex-col gap-4 p-4">
        <div class="flex items-center justify-center h-full">&copy; Copyright 2022 Nobody, Inc.</div>

        <% if ($.admin) { %>
        <div class="flex flex-col items-center">
          <div>You are an admin</div>
          
          <div>
            <a href="/backend">
              <button>Go To Panel</button>
            </a>
          </div>
        </div>
        <% } %>
      </footer>
    </main>
  
    {{ partial "/../lib/panel/index.ejs" }}
  </body>
</html>
